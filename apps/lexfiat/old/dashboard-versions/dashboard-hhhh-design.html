<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LexFiat Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* SwimMeet Glass-Ocean base colors - darker and more saturated for Piquette */
            --ocean-deep: #0A1A2A;
            --ocean-mid: #1E3A5F;
            --steel-blue: #2C5282;
            --glass-blue: #3B82F6;
            --electric-purple: #A855F7;
            --cyber-green: #10B981;
            --neon-orange: #F59E0B;
            --gold: #D4AF37;
            --white: #FFFFFF;
            --mist: #F8FAFC;
            --steel-gray: #94A3B8;
            --chrome: #E2E8F0;
            --panel-glass: rgba(255, 255, 255, 0.08);
            --panel-border: rgba(255, 255, 255, 0.15);
            --accent-glow: rgba(59, 130, 246, 0.2);
        }

        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #1a1f2e;
            color: var(--white);
            min-height: 100vh;
            position: relative;
        }

        /* Industrial matte metallic background with riveted steel plates - NO HERRINGBONE */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: -1;
            background-color: #1a1f2e;
            background-image: 
                /* Rivets in corners of steel plates */
                radial-gradient(circle at 0% 0%, rgba(100, 110, 120, 0.5) 3px, transparent 3px),
                radial-gradient(circle at 100% 0%, rgba(100, 110, 120, 0.5) 3px, transparent 3px),
                radial-gradient(circle at 0% 100%, rgba(100, 110, 120, 0.5) 3px, transparent 3px),
                radial-gradient(circle at 100% 100%, rgba(100, 110, 120, 0.5) 3px, transparent 3px),
                /* Brushed metal texture - subtle horizontal lines */
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 2px,
                    rgba(255, 255, 255, 0.02) 2px,
                    rgba(255, 255, 255, 0.02) 3px
                ),
                /* Steel plate panel borders - horizontal and vertical only */
                repeating-linear-gradient(
                    0deg,
                    rgba(0, 0, 0, 0.4) 0px,
                    transparent 1px,
                    transparent 150px,
                    rgba(0, 0, 0, 0.4) 151px
                ),
                repeating-linear-gradient(
                    90deg,
                    rgba(0, 0, 0, 0.4) 0px,
                    transparent 1px,
                    transparent 150px,
                    rgba(0, 0, 0, 0.4) 151px
                );
            background-size: 
                150px 150px,
                150px 150px,
                150px 150px,
                150px 150px,
                100% 100%,
                100% 150px,
                150px 100%;
            background-position: 
                0 0,
                0 0,
                0 0,
                0 0,
                0 0,
                0 0,
                0 0;
        }

        /* Subtler caustic lighting overlay - more contrast, less brightness */
        body::after {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 999;
            opacity: 0.5;
            background: 
                radial-gradient(ellipse 1000px 800px at 20% 30%, rgba(59, 130, 246, 0.35) 0%, rgba(59, 130, 246, 0.15) 30%, transparent 60%),
                radial-gradient(ellipse 900px 900px at 80% 60%, rgba(168, 85, 247, 0.3) 0%, rgba(168, 85, 247, 0.12) 30%, transparent 60%),
                radial-gradient(ellipse 800px 700px at 50% 85%, rgba(16, 185, 129, 0.25) 0%, rgba(16, 185, 129, 0.1) 30%, transparent 60%);
            mix-blend-mode: screen;
        }

        /* Realistic arc welder ambient flashes - staggered bursts */
        @keyframes arc-weld-left {
            0%, 100% { opacity: 0; }
            2%, 4% { opacity: 0.6; }  /* Quick burst */
            5%, 20% { opacity: 0; }
            22%, 24% { opacity: 0.7; }  /* Quick burst */
            25%, 40% { opacity: 0; }
            42%, 48% { opacity: 0.75; }  /* Longer burst (3 beats) */
            49%, 100% { opacity: 0; }
        }

        @keyframes arc-weld-right {
            0%, 30% { opacity: 0; }
            32%, 34% { opacity: 0.65; }  /* Quick burst */
            35%, 50% { opacity: 0; }
            52%, 56% { opacity: 0.7; }  /* Medium burst (2 beats) */
            57%, 60% { opacity: 0.5; }
            61%, 100% { opacity: 0; }
        }

        /* Left side arc welder - ambient side lighting */
        .main-content::before {
            content: '';
            position: fixed;
            top: 0;
            left: -20%;
            width: 70%;
            height: 100%;
            background: linear-gradient(to right, rgba(147, 197, 253, 0.4) 0%, transparent 70%);
            filter: blur(100px);
            animation: arc-weld-left 15s infinite;
            pointer-events: none;
            z-index: 100;
        }

        /* Right side arc welder - ambient side lighting */
        .main-content::after {
            content: '';
            position: fixed;
            top: 0;
            right: -20%;
            width: 70%;
            height: 100%;
            background: linear-gradient(to left, rgba(251, 191, 36, 0.35) 0%, transparent 70%);
            filter: blur(100px);
            animation: arc-weld-right 18s infinite 3s;
            pointer-events: none;
            z-index: 100;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, rgba(44, 82, 130, 0.9) 0%, rgba(30, 58, 95, 0.95) 100%);
            backdrop-filter: blur(20px) saturate(120%);
            border-bottom: 2px solid var(--panel-border);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
            padding: 1.5rem 2rem;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .header-content {
            max-width: 1600px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logo {
            font-size: 2rem;
        }

        .logo-text {
            font-size: 1.75rem;
            font-weight: 300;
            letter-spacing: 0.5px;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .status-pills {
            display: flex;
            gap: 1rem;
        }

        .status-pill {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1.25rem;
            background: rgba(30, 58, 95, 0.7);
            border-radius: 25px;
            border: 1px solid rgba(148, 163, 184, 0.2);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .status-pill:hover {
            background: rgba(30, 58, 95, 0.9);
            border-color: var(--glass-blue);
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
        }

        .status-dot.success { background: var(--cyber-green); }
        .status-dot.processing { background: var(--glass-blue); }
        .status-dot.warning { background: var(--neon-orange); }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Avatar */
        .avatar-section {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid var(--gold);
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--ocean-mid);
        }

        .avatar:hover {
            border-color: var(--glass-blue);
            transform: scale(1.05);
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .attorney-info {
            display: flex;
            flex-direction: column;
        }

        .attorney-name {
            font-size: 0.9rem;
            font-weight: 500;
        }

        .attorney-title {
            font-size: 0.75rem;
            color: var(--steel-gray);
        }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 0.75rem;
        }

        .action-btn {
            padding: 0.75rem 1rem;
            background: rgba(30, 58, 95, 0.7);
            border: 1px solid var(--panel-border);
            border-radius: 0;
            color: var(--white);
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .action-btn:hover {
            background: var(--accent-glow);
            border-color: var(--glass-blue);
        }

        .action-btn.admin {
            background: rgba(245, 158, 11, 0.3);
            border-color: var(--neon-orange);
        }

        .action-btn.admin:hover {
            background: rgba(245, 158, 11, 0.5);
        }

        /* Main Content - LOWER Z-INDEX SO CAUSTICS SHOW */
        .main-content {
            max-width: 1600px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 5;
        }

        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .page-title {
            font-size: 2rem;
            font-weight: 300;
            letter-spacing: 1px;
        }

        /* Assembly Line Container */
        .assembly-line {
            margin-bottom: 3rem;
            position: relative;
        }

        .assembly-title {
            font-size: 1.5rem;
            font-weight: 300;
            letter-spacing: 1px;
            margin-bottom: 2rem;
            color: var(--chrome);
        }

        /* Workflow Pipeline - Horizontal with connecting lines */
        .workflow-pipeline {
            display: flex;
            gap: 2rem;
            align-items: stretch;
            position: relative;
            padding: 2rem 0;
            overflow-x: auto;
        }

        /* Workflow Stage Widget - Draggable - WITH BRIGHT GLASS SHEEN */
        .workflow-stage {
            flex: 0 0 300px;
            background: 
                linear-gradient(135deg, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.22) 100%),
                linear-gradient(to bottom, rgba(255, 255, 255, 0.18), rgba(0, 0, 0, 0.25)),
                #0f1419;
            backdrop-filter: blur(40px) saturate(200%) brightness(1.15);
            -webkit-backdrop-filter: blur(40px) saturate(200%) brightness(1.15);
            border: 1px solid rgba(255, 255, 255, 0.4);
            border-top: 3px solid rgba(255, 255, 255, 0.7);
            border-radius: 0;
            padding: 1.5rem;
            position: relative;
            cursor: move;
            transition: all 0.3s ease;
            overflow: hidden;
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.7),
                inset 0 2px 0 rgba(255, 255, 255, 0.6),
                inset 0 -2px 0 rgba(0, 0, 0, 0.6);
        }

        .workflow-stage:hover {
            transform: translateY(-4px);
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.5),
                inset 0 -1px 0 rgba(0, 0, 0, 0.5);
        }

        .workflow-stage.dragging {
            opacity: 0.5;
            cursor: grabbing;
        }

        /* Color tints for different stage types - more visible */
        .workflow-stage.intake {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.25) 0%, rgba(59, 130, 246, 0.12) 100%);
            border-left: 4px solid var(--glass-blue);
            border-top: 1px solid rgba(59, 130, 246, 0.3);
        }

        .workflow-stage.analysis {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.25) 0%, rgba(168, 85, 247, 0.12) 100%);
            border-left: 4px solid var(--electric-purple);
            border-top: 1px solid rgba(168, 85, 247, 0.3);
        }

        .workflow-stage.review {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.25) 0%, rgba(16, 185, 129, 0.12) 100%);
            border-left: 4px solid var(--cyber-green);
            border-top: 1px solid rgba(16, 185, 129, 0.3);
        }

        .workflow-stage.output {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.25) 0%, rgba(245, 158, 11, 0.12) 100%);
            border-left: 4px solid var(--neon-orange);
            border-top: 1px solid rgba(245, 158, 11, 0.3);
        }

        /* Glass reflection effect on top half - Toned down for contrast */
        .workflow-stage::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 75%;
            background: linear-gradient(
                to bottom, 
                rgba(255, 255, 255, 0.4) 0%, 
                rgba(255, 255, 255, 0.22) 30%, 
                rgba(255, 255, 255, 0.08) 60%,
                transparent 100%
            );
            pointer-events: none;
            z-index: 10;
            transition: background 0.3s ease;
        }

        /* Glossy highlight stripe at top - Toned down for contrast */
        .workflow-stage::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: 
                linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.7) 50%, transparent 100%),
                linear-gradient(to bottom, rgba(255, 255, 255, 0.65), rgba(255, 255, 255, 0.4));
            box-shadow: 
                0 2px 8px rgba(255, 255, 255, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.7);
            pointer-events: none;
            z-index: 11;
            transition: all 0.3s ease;
        }

        /* Hover state - 50% brighter */
        .workflow-stage:hover::before {
            background: linear-gradient(
                to bottom, 
                rgba(255, 255, 255, 0.9) 0%, 
                rgba(255, 255, 255, 0.53) 30%, 
                rgba(255, 255, 255, 0.23) 60%,
                transparent 100%
            );
        }

        .workflow-stage:hover::after {
            height: 10px;
            background: 
                linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 1) 50%, transparent 100%),
                linear-gradient(to bottom, rgba(255, 255, 255, 1), rgba(255, 255, 255, 1));
            box-shadow: 
                0 5px 20px rgba(255, 255, 255, 1),
                0 0 30px rgba(255, 255, 255, 0.8),
                inset 0 1px 0 rgba(255, 255, 255, 1);
        }

        /* Ensure workflow stage content appears above glass effects */
        .workflow-stage > * {
            position: relative;
            z-index: 12;
        }

        .stage-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .stage-title {
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
            letter-spacing: 0.5px;
        }

        .stage-description {
            font-size: 0.85rem;
            color: var(--steel-gray);
            margin-bottom: 1rem;
        }

        .stage-metrics {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .metric-row {
            display: flex;
            justify-content: space-between;
            font-size: 0.85rem;
        }

        .metric-label {
            color: var(--steel-gray);
        }

        .metric-value {
            font-weight: 600;
            font-family: 'Courier New', monospace;
        }

        .expand-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--panel-border);
            border-radius: 0;
            padding: 0.5rem;
            cursor: pointer;
            color: var(--chrome);
            transition: all 0.2s ease;
        }

        .expand-btn:hover {
            background: var(--accent-glow);
            border-color: var(--glass-blue);
        }

        /* Connecting Lines - SVG arrows between stages */
        .connector-line {
            position: absolute;
            top: 50%;
            height: 3px;
            background: linear-gradient(90deg, var(--glass-blue), var(--electric-purple), var(--cyber-green));
            opacity: 0.6;
            pointer-events: none;
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
        }

        .connector-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: var(--glass-blue);
            font-size: 1.5rem;
            text-shadow: 0 0 10px rgba(59, 130, 246, 0.8);
            pointer-events: none;
        }

        /* Bottom Widgets Grid - Custom layout */
        .widgets-grid {
            display: grid;
            grid-template-columns: 2fr 2fr 1fr;
            gap: 2rem;
        }

        @media (max-width: 1200px) {
            .widgets-grid {
                grid-template-columns: 1fr 1fr;
            }
            .widget.performance {
                grid-column: span 2;
            }
        }

        @media (max-width: 768px) {
            .widgets-grid {
                grid-template-columns: 1fr;
            }
            .widget.performance {
                grid-column: span 1;
            }
        }

        .widget {
            background: 
                linear-gradient(135deg, rgba(255, 255, 255, 0.25) 0%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.22) 100%),
                linear-gradient(to bottom, rgba(255, 255, 255, 0.18), rgba(0, 0, 0, 0.25)),
                #0f1419;
            backdrop-filter: blur(40px) saturate(200%) brightness(1.15);
            -webkit-backdrop-filter: blur(40px) saturate(200%) brightness(1.15);
            border: 1px solid rgba(255, 255, 255, 0.4);
            border-top: 3px solid rgba(255, 255, 255, 0.7);
            border-radius: 0;
            padding: 1.5rem;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            overflow: hidden;
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.7),
                inset 0 2px 0 rgba(255, 255, 255, 0.6),
                inset 0 -2px 0 rgba(0, 0, 0, 0.6),
                0 0 40px rgba(59, 130, 246, 0.1);
        }

        /* Glass reflection effect on top half - Toned down for contrast */
        .widget::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 75%;
            background: linear-gradient(
                to bottom, 
                rgba(255, 255, 255, 0.4) 0%, 
                rgba(255, 255, 255, 0.22) 30%, 
                rgba(255, 255, 255, 0.08) 60%,
                transparent 100%
            );
            pointer-events: none;
            z-index: 10;
            transition: background 0.3s ease;
        }

        /* Glossy highlight stripe - Toned down for contrast */
        .widget::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: 
                linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.7) 50%, transparent 100%),
                linear-gradient(to bottom, rgba(255, 255, 255, 0.65), rgba(255, 255, 255, 0.4));
            box-shadow: 
                0 2px 8px rgba(255, 255, 255, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.7);
            pointer-events: none;
            z-index: 11;
            transition: all 0.3s ease;
        }

        /* Hover state - 50% brighter */
        .widget:hover::before {
            background: linear-gradient(
                to bottom, 
                rgba(255, 255, 255, 0.9) 0%, 
                rgba(255, 255, 255, 0.53) 30%, 
                rgba(255, 255, 255, 0.23) 60%,
                transparent 100%
            );
        }

        .widget:hover::after {
            height: 10px;
            background: 
                linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 1) 50%, transparent 100%),
                linear-gradient(to bottom, rgba(255, 255, 255, 1), rgba(255, 255, 255, 1));
            box-shadow: 
                0 5px 20px rgba(255, 255, 255, 1),
                0 0 30px rgba(255, 255, 255, 0.8),
                inset 0 1px 0 rgba(255, 255, 255, 1);
        }

        .widget:hover {
            transform: translateY(-2px);
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.5),
                inset 0 -1px 0 rgba(0, 0, 0, 0.5);
        }

        /* Ensure widget content appears above glass effects */
        .widget > * {
            position: relative;
            z-index: 12;
        }

        /* GoodCounsel Widget - METALLIC GOLD WAFER - more visible tint */
        .widget.goodcounsel {
            background: 
                linear-gradient(135deg, rgba(255, 215, 0, 0.6) 0%, rgba(212, 175, 55, 0.5) 50%, rgba(184, 134, 11, 0.6) 100%),
                linear-gradient(to right, rgba(255, 223, 0, 0.3), rgba(255, 215, 0, 0.5), rgba(255, 223, 0, 0.3));
            backdrop-filter: blur(20px) saturate(180%);
            border: 2px solid #FFD700;
            border-left: 4px solid #FFD700;
            border-top: 3px solid rgba(255, 235, 150, 0.8);
            box-shadow: 
                0 4px 20px rgba(255, 215, 0, 0.5),
                inset 0 2px 0 rgba(255, 235, 150, 0.6),
                inset 0 -2px 0 rgba(184, 134, 11, 0.8),
                0 0 30px rgba(255, 215, 0, 0.3);
        }
        
        /* Metallic gold shine effect */
        .widget.goodcounsel::before {
            background: linear-gradient(to bottom, rgba(255, 235, 150, 0.4), transparent 40%, transparent 60%, rgba(184, 134, 11, 0.3));
        }

        /* Gold wafer reflection sweep */
        .widget.goodcounsel::after {
            background: linear-gradient(90deg, transparent, rgba(255, 235, 150, 0.6), transparent);
        }
        
        .widget.goodcounsel .widget-header {
            background: linear-gradient(to bottom, rgba(255, 235, 150, 0.3), transparent);
            border-bottom: 1px solid rgba(255, 215, 0, 0.5);
        }
        
        .widget.goodcounsel .widget-title {
            color: #FFF4D4;
            text-shadow: 
                0 1px 2px rgba(0, 0, 0, 0.8),
                0 0 15px rgba(255, 215, 0, 0.8),
                0 -1px 0 rgba(255, 235, 150, 0.5);
            font-weight: 700;
            letter-spacing: 0.08em;
        }

        .widget.goodcounsel .widget-indicator {
            background: var(--gold);
        }

        .widget.goodcounsel .insight-card.positive {
            border-left-color: var(--cyber-green);
        }

        /* Performance Widget - Blue - more visible tint */
        .widget.performance {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.28) 0%, rgba(59, 130, 246, 0.15) 100%);
            border-left: 4px solid var(--glass-blue);
            border-top: 1px solid rgba(59, 130, 246, 0.4);
        }

        .widget.performance::before {
            background: linear-gradient(90deg, transparent, var(--glass-blue), transparent);
        }

        /* Focus Widget - Purple - more visible tint */
        .widget.focus {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.28) 0%, rgba(168, 85, 247, 0.15) 100%);
            border-left: 4px solid var(--electric-purple);
            border-top: 1px solid rgba(168, 85, 247, 0.4);
        }

        .widget.focus::before {
            background: linear-gradient(90deg, transparent, var(--electric-purple), transparent);
        }

        .widget::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            opacity: 0.5;
        }

        .widget:hover::before {
            opacity: 1;
        }

        .widget-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .widget-indicator {
            width: 4px;
            height: 2rem;
            border-radius: 0;
        }

        .widget-title {
            font-size: 1.1rem;
            font-weight: 500;
            letter-spacing: 0.5px;
        }

        .widget-content {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
        }

        .stat-label {
            color: var(--steel-gray);
        }

        .stat-value {
            font-weight: 600;
            font-family: 'Courier New', monospace;
        }

        .insight-card {
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            border-radius: 0;
            border-left: 4px solid;
        }

        .insight-card.positive { border-left-color: var(--cyber-green); }
        .insight-card.warning { border-left-color: var(--neon-orange); }
        .insight-card.critical { border-left-color: #ef4444; }
        .insight-card.info { border-left-color: var(--glass-blue); }

        .insight-text {
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
        }

        .insight-subtext {
            font-size: 0.75rem;
            color: var(--steel-gray);
        }

        /* Gold text for GoodCounsel */
        .widget.goodcounsel .insight-subtext.gold {
            color: var(--gold);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .workflow-pipeline {
                flex-direction: column;
                gap: 1.5rem;
            }
            
            .workflow-stage {
                flex: 1 1 auto;
            }

            .connector-line,
            .connector-arrow {
                display: none;
            }
        }

        /* Drag feedback */
        .drag-over {
            background: var(--accent-glow);
            border-color: var(--glass-blue);
        }

        /* Expanded panel overlay */
        .panel-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(10, 26, 42, 0.95);
            backdrop-filter: blur(20px);
            z-index: 1000;
            display: none;
            padding: 2rem;
            overflow-y: auto;
        }

        .panel-overlay.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .expanded-panel {
            background: linear-gradient(135deg, var(--panel-glass) 0%, rgba(255, 255, 255, 0.04) 100%);
            backdrop-filter: blur(15px) saturate(120%);
            border: 1px solid var(--panel-border);
            border-radius: 0;
            padding: 3rem;
            max-width: 1200px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .close-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--panel-border);
            border-radius: 0;
            padding: 0.75rem 1.5rem;
            cursor: pointer;
            color: var(--chrome);
            font-size: 1rem;
        }

        .close-btn:hover {
            background: var(--accent-glow);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-content">
            <div class="logo-section">
                <svg class="logo" width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                    <!-- Edison Bulb with Prominent Filament -->
                    <defs>
                        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#60A5FA;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#D4AF37;stop-opacity:1" />
                        </linearGradient>
                        <linearGradient id="haloGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#D4AF37;stop-opacity:0.4" />
                            <stop offset="100%" style="stop-color:#60A5FA;stop-opacity:0.2" />
                        </linearGradient>
                    </defs>
                    
                    <!-- Dramatic radiating light rays (8 rays around bulb) -->
                    <g opacity="0.7">
                        <!-- Top ray -->
                        <path d="M 25 2 L 27 8 L 25 10 L 23 8 Z" fill="url(#haloGradient)"/>
                        <!-- Top-right ray -->
                        <path d="M 38 6 L 34 11 L 32 10 L 35 6 Z" fill="url(#haloGradient)"/>
                        <!-- Right ray -->
                        <path d="M 45 18 L 38 20 L 37 18 L 42 16 Z" fill="url(#haloGradient)"/>
                        <!-- Bottom-right ray -->
                        <path d="M 42 30 L 36 28 L 36 26 L 40 27 Z" fill="url(#haloGradient)"/>
                        <!-- Bottom-left ray -->
                        <path d="M 8 30 L 14 28 L 14 26 L 10 27 Z" fill="url(#haloGradient)"/>
                        <!-- Left ray -->
                        <path d="M 5 18 L 12 20 L 13 18 L 8 16 Z" fill="url(#haloGradient)"/>
                        <!-- Top-left ray -->
                        <path d="M 12 6 L 16 11 L 18 10 L 15 6 Z" fill="url(#haloGradient)"/>
                        <!-- Additional accent rays for more drama -->
                        <path d="M 25 4 L 26 9 L 25 9.5 L 24 9 Z" fill="#D4AF37" opacity="0.5"/>
                        <path d="M 43 18 L 37 19 L 37 18 L 41 17 Z" fill="#D4AF37" opacity="0.5"/>
                    </g>
                    
                    <!-- Glowing aura circle -->
                    <circle cx="25" cy="20" r="19" 
                            fill="none" 
                            stroke="url(#haloGradient)" 
                            stroke-width="2"
                            opacity="0.5"/>
                    <circle cx="25" cy="20" r="21" 
                            fill="none" 
                            stroke="#D4AF37" 
                            stroke-width="1"
                            opacity="0.3"/>
                    
                    <!-- Glass bulb outline (Edison balloon shape - wide round top, narrow neck at base) -->
                    <path d="M 25 8 
                             C 17 9, 10 14, 10 21 
                             C 10 27, 14 30, 18 32
                             C 19 32.5, 19.5 33, 20 33.5
                             L 20 36
                             L 30 36
                             L 30 33.5
                             C 30.5 33, 31 32.5, 32 32
                             C 36 30, 40 27, 40 21
                             C 40 14, 33 9, 25 8 Z" 
                          fill="none" 
                          stroke="url(#logoGradient)" 
                          stroke-width="2.5"
                          opacity="0.8"/>
                    
                    <!-- Hand-blown glass nubbin at tip (authentic Edison detail) -->
                    <circle cx="25" cy="8" r="1.5" 
                            fill="#D4AF37" 
                            stroke="#D4AF37" 
                            stroke-width="1"/>
                    
                    <!-- Prominent Edison filament (zigzag/coil pattern) -->
                    <path d="M 25 11 L 22 15 L 28 19 L 22 23 L 28 27 L 25 31" 
                          stroke="#D4AF37" 
                          stroke-width="2.5" 
                          fill="none"
                          stroke-linecap="round"
                          stroke-linejoin="round"/>
                    
                    <!-- Filament support wires -->
                    <line x1="25" y1="31" x2="25" y2="35" stroke="#D4AF37" stroke-width="2"/>
                    <line x1="25" y1="11" x2="25" y2="8" stroke="#D4AF37" stroke-width="2"/>
                    
                    <!-- Screw base (threaded with slant) - same width as glass neck -->
                    <path d="M 19.5 36 L 30.5 37 L 30.5 38 L 19.5 37 Z" fill="#60A5FA"/>
                    <path d="M 19.5 38.5 L 30.5 39.5 L 30.5 40.5 L 19.5 39.5 Z" fill="#60A5FA"/>
                    <path d="M 19.5 41 L 30.5 42 L 30.5 43 L 19.5 42 Z" fill="#60A5FA"/>
                    <path d="M 19.5 43.5 L 30.5 44.5 L 30.5 46.5 L 19.5 45.5 Z" fill="#60A5FA"/>
                </svg>
                <div>
                    <div class="logo-text">LexFiat</div>
                    <div style="font-size: 0.85rem; color: var(--gold);">"Legal Intelligence"</div>
                </div>
            </div>
            
            <div class="header-right">
                <div class="status-pills">
                    <div class="status-pill" onclick="expandPanel('gmail')" title="Click to view inbox">
                        <div class="status-dot success"></div>
                        <span>Gmail</span>
                    </div>
                    <div class="status-pill" onclick="expandPanel('ai-status')" title="Click to view AI provider status">
                        <div class="status-dot processing"></div>
                        <span>AI</span>
                    </div>
                    <div class="status-pill" onclick="expandPanel('calendar')" title="Click to view calendar">
                        <div class="status-dot success"></div>
                        <span>üìÖ Calendar</span>
                    </div>
                    <div class="status-pill" onclick="expandPanel('research')" title="Click to open legal research">
                        <div class="status-dot warning"></div>
                        <span>‚öñÔ∏è Research</span>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="action-btn admin" onclick="expandPanel('admin')">‚öôÔ∏è Admin</button>
                    <button class="action-btn" onclick="expandPanel('settings')">Settings</button>
                </div>

                <div class="avatar-section">
                    <div class="avatar" onclick="expandPanel('profile')" title="Click to edit profile">
                        <img src="attached_assets/IMG_0104_1754179760418.JPG" alt="Mekel S. Miller">
                    </div>
                    <div class="attorney-info">
                        <div class="attorney-name">Mekel S. Miller</div>
                        <div class="attorney-title">Family Law</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Page Header -->
        <div class="page-header">
            <h1 class="page-title">Dashboard</h1>
        </div>

        <!-- Assembly Line Workflow -->
        <div class="assembly-line">
            <h2 class="assembly-title">Legal Intelligence Assembly Line</h2>
            
            <div class="workflow-pipeline" id="workflow-pipeline">
                <!-- Stage 1: Intake -->
                <div class="workflow-stage intake" draggable="true" data-stage="intake" onclick="expandPanel('intake')">
                    <button class="expand-btn" onclick="event.stopPropagation(); expandPanel('intake')">‚§¢</button>
                    <div class="stage-icon">üì•</div>
                    <h3 class="stage-title">Document Intake</h3>
                    <p class="stage-description">Email monitoring and document capture</p>
                    <div class="stage-metrics">
                        <div class="metric-row">
                            <span class="metric-label">Today</span>
                            <span class="metric-value">24</span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">Pending</span>
                            <span class="metric-value">3</span>
                        </div>
                    </div>
                </div>

                <!-- Connector -->
                <div class="connector-line" style="left: 332px; width: 40px;"></div>
                <div class="connector-arrow" style="left: 368px;">‚Üí</div>

                <!-- Stage 2: Analysis -->
                <div class="workflow-stage analysis" draggable="true" data-stage="analysis" onclick="expandPanel('analysis')">
                    <button class="expand-btn" onclick="event.stopPropagation(); expandPanel('analysis')">‚§¢</button>
                    <div class="stage-icon">üîç</div>
                    <h3 class="stage-title">AI Analysis</h3>
                    <p class="stage-description">Document review and red flag detection</p>
                    <div class="stage-metrics">
                        <div class="metric-row">
                            <span class="metric-label">Processing</span>
                            <span class="metric-value">5</span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">Red Flags</span>
                            <span class="metric-value">2</span>
                        </div>
                    </div>
                </div>

                <!-- Connector -->
                <div class="connector-line" style="left: 684px; width: 40px;"></div>
                <div class="connector-arrow" style="left: 720px;">‚Üí</div>

                <!-- Stage 3: Draft Preparation -->
                <div class="workflow-stage review" draggable="true" data-stage="draft-prep" onclick="expandPanel('draft-prep')">
                    <button class="expand-btn" onclick="event.stopPropagation(); expandPanel('draft-prep')">‚§¢</button>
                    <div class="stage-icon">üìù</div>
                    <h3 class="stage-title">Draft Preparation</h3>
                    <p class="stage-description">AI-generated draft responses</p>
                    <div class="stage-metrics">
                        <div class="metric-row">
                            <span class="metric-label">Drafts Ready</span>
                            <span class="metric-value">6</span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">In Progress</span>
                            <span class="metric-value">3</span>
                        </div>
                    </div>
                </div>

                <!-- Connector -->
                <div class="connector-line" style="left: 1036px; width: 40px;"></div>
                <div class="connector-arrow" style="left: 1072px;">‚Üí</div>

                <!-- Stage 4: Attorney Review -->
                <div class="workflow-stage output" draggable="true" data-stage="attorney-review" onclick="expandPanel('attorney-review')">
                    <button class="expand-btn" onclick="event.stopPropagation(); expandPanel('attorney-review')">‚§¢</button>
                    <div class="stage-icon">‚öñÔ∏è</div>
                    <h3 class="stage-title">Attorney Review</h3>
                    <p class="stage-description">Final review and approval</p>
                    <div class="stage-metrics">
                        <div class="metric-row">
                            <span class="metric-label">Awaiting</span>
                            <span class="metric-value">8</span>
                        </div>
                        <div class="metric-row">
                            <span class="metric-label">Urgent</span>
                            <span class="metric-value">1</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Widgets - Left to Right: Focus, GoodCounsel, Performance -->
        <div class="widgets-grid">
            <!-- Today's Focus Widget - Left (wider) -->
            <div class="widget focus" onclick="expandPanel('focus')">
                <div class="widget-header">
                    <div class="widget-indicator" style="background: var(--electric-purple);"></div>
                    <h3 class="widget-title">Today's Focus</h3>
                </div>
                <div class="widget-content">
                    <div class="insight-card critical">
                        <p class="insight-text"><strong>TRO Response - Johnson v Johnson</strong></p>
                        <p class="insight-subtext">Wayne County ‚Ä¢ Due 5 PM tomorrow</p>
                    </div>
                    <div class="insight-card info">
                        <p class="insight-text">Discovery Response - Hartley Estate</p>
                        <p class="insight-subtext">Oakland County ‚Ä¢ Due Friday</p>
                    </div>
                </div>
            </div>

            <!-- GoodCounsel Widget - Center (wider) - METALLIC GOLD -->
            <div class="widget goodcounsel" onclick="expandPanel('goodcounsel')">
                <div class="widget-header">
                    <div class="widget-indicator" style="background: #FFD700;"></div>
                    <h3 class="widget-title">üí° GoodCounsel</h3>
                </div>
                <div class="widget-content">
                    <div class="insight-card positive">
                        <p class="insight-text">üí° No contact with James Hartley in 18 days</p>
                        <p class="insight-subtext gold">Probate hearing Dec 14</p>
                    </div>
                    <div class="insight-card positive">
                        <p class="insight-text">üí° Take 10 minutes - Step outside for fresh air</p>
                        <p class="insight-subtext">You've been focused for 2.5 hours</p>
                    </div>
                </div>
            </div>

            <!-- Performance Widget - Right (narrow) -->
            <div class="widget performance" onclick="expandPanel('performance')">
                <div class="widget-header">
                    <div class="widget-indicator" style="background: var(--glass-blue);"></div>
                    <h3 class="widget-title">Performance</h3>
                </div>
                <div class="widget-content">
                    <div class="stat-row">
                        <span class="stat-label">Time saved</span>
                        <span class="stat-value">4.7h</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Success</span>
                        <span class="stat-value">91%</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Docs</span>
                        <span class="stat-value">247</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Expanded Panel Overlay -->
    <div class="panel-overlay" id="panel-overlay">
        <div class="expanded-panel">
            <button class="close-btn" onclick="closePanel()">‚úï Close</button>
            <div id="expanded-content">
                <h2>Expanded Panel View</h2>
                <p>Full details would appear here...</p>
            </div>
        </div>
    </div>

    <script>
        // Drag and Drop functionality
        let draggedElement = null;

        document.querySelectorAll('.workflow-stage').forEach(stage => {
            stage.addEventListener('dragstart', (e) => {
                draggedElement = e.target;
                e.target.classList.add('dragging');
            });

            stage.addEventListener('dragend', (e) => {
                e.target.classList.remove('dragging');
            });

            stage.addEventListener('dragover', (e) => {
                e.preventDefault();
                e.target.classList.add('drag-over');
            });

            stage.addEventListener('dragleave', (e) => {
                e.target.classList.remove('drag-over');
            });

            stage.addEventListener('drop', (e) => {
                e.preventDefault();
                e.target.classList.remove('drag-over');
                if (draggedElement && draggedElement !== e.target) {
                    const pipeline = document.getElementById('workflow-pipeline');
                    const allStages = [...pipeline.querySelectorAll('.workflow-stage')];
                    const draggedIndex = allStages.indexOf(draggedElement);
                    const targetIndex = allStages.indexOf(e.target);
                    
                    if (draggedIndex < targetIndex) {
                        e.target.after(draggedElement);
                    } else {
                        e.target.before(draggedElement);
                    }
                }
            });
        });

        // Expand panel functionality
        function expandPanel(panelType) {
            const overlay = document.getElementById('panel-overlay');
            const content = document.getElementById('expanded-content');
            
            let panelContent = '';
            
            switch(panelType) {
                case 'ai-status':
                    panelContent = `
                        <h2>AI Provider Status</h2>
                        <div style="margin-top: 2rem; display: grid; gap: 1rem;">
                            <div style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: rgba(0,0,0,0.3); border-left: 3px solid var(--cyber-green);">
                                <div style="width: 12px; height: 12px; border-radius: 50%; background: var(--cyber-green);"></div>
                                <span style="flex: 1;">Perplexity</span>
                                <span style="color: var(--cyber-green);">Online</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: rgba(0,0,0,0.3); border-left: 3px solid var(--cyber-green);">
                                <div style="width: 12px; height: 12px; border-radius: 50%; background: var(--cyber-green);"></div>
                                <span style="flex: 1;">Claude 4</span>
                                <span style="color: var(--cyber-green);">Online</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: rgba(0,0,0,0.3); border-left: 3px solid var(--neon-orange);">
                                <div style="width: 12px; height: 12px; border-radius: 50%; background: var(--neon-orange);"></div>
                                <span style="flex: 1;">GPT-4</span>
                                <span style="color: var(--neon-orange);">API Key Required</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: rgba(0,0,0,0.3); border-left: 3px solid #ef4444;">
                                <div style="width: 12px; height: 12px; border-radius: 50%; background: #ef4444;"></div>
                                <span style="flex: 1;">Gemini Pro</span>
                                <span style="color: #ef4444;">Offline</span>
                            </div>
                        </div>
                    `;
                    break;
                case 'gmail':
                    panelContent = `
                        <h2>Gmail Inbox</h2>
                        <p style="margin-top: 1rem; color: var(--steel-gray);">Your legal email inbox would display here...</p>
                        <div style="margin-top: 2rem;">
                            <div style="padding: 1rem; background: rgba(0,0,0,0.3); margin-bottom: 1rem; border-left: 3px solid var(--glass-blue);">
                                <strong>Johnson v Johnson - Discovery Request</strong>
                                <p style="font-size: 0.85rem; color: var(--steel-gray); margin-top: 0.5rem;">Received 2 hours ago</p>
                            </div>
                        </div>
                    `;
                    break;
                case 'calendar':
                    panelContent = `
                        <h2>Calendar</h2>
                        <p style="margin-top: 1rem; color: var(--steel-gray);">Your legal calendar would display here...</p>
                    `;
                    break;
                case 'research':
                    panelContent = `
                        <h2>Legal Research</h2>
                        <p style="margin-top: 1rem; color: var(--steel-gray);">Connect your legal research platform:</p>
                        <div style="margin-top: 2rem; display: grid; gap: 1rem;">
                            <button style="padding: 1rem; background: rgba(59, 130, 246, 0.2); border: 1px solid var(--glass-blue); border-radius: 0; color: white; cursor: pointer;">Connect Westlaw</button>
                            <button style="padding: 1rem; background: rgba(59, 130, 246, 0.2); border: 1px solid var(--glass-blue); border-radius: 0; color: white; cursor: pointer;">Connect LexisNexis</button>
                            <button style="padding: 1rem; background: rgba(59, 130, 246, 0.2); border: 1px solid var(--glass-blue); border-radius: 0; color: white; cursor: pointer;">Connect Fastcase</button>
                        </div>
                    `;
                    break;
                case 'admin':
                    panelContent = `
                        <h2 style="color: var(--neon-orange);">üõ°Ô∏è Admin Panel - User Management</h2>
                        
                        <div style="margin-top: 2rem;">
                            <!-- Admin Actions -->
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                                <h3>System Users</h3>
                                <button onclick="showCreateUserForm()" style="padding: 0.75rem 1.5rem; background: var(--cyber-green); border: 1px solid var(--cyber-green); border-radius: 0; color: white; cursor: pointer;">
                                    ‚ûï Add New User
                                </button>
                            </div>

                            <!-- User List Table -->
                            <div style="background: rgba(0,0,0,0.3); border-radius: 0; overflow: hidden;">
                                <table style="width: 100%; border-collapse: collapse;">
                                    <thead style="background: rgba(59, 130, 246, 0.2); border-bottom: 2px solid var(--glass-blue);">
                                        <tr>
                                            <th style="padding: 1rem; text-align: left; color: var(--chrome);">Username</th>
                                            <th style="padding: 1rem; text-align: left; color: var(--chrome);">Email</th>
                                            <th style="padding: 1rem; text-align: left; color: var(--chrome);">Name</th>
                                            <th style="padding: 1rem; text-align: left; color: var(--chrome);">Status</th>
                                            <th style="padding: 1rem; text-align: left; color: var(--chrome);">Last Login</th>
                                            <th style="padding: 1rem; text-align: left; color: var(--chrome);">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr style="border-bottom: 1px solid var(--panel-border);">
                                            <td style="padding: 1rem; color: var(--white);">davidtowne</td>
                                            <td style="padding: 1rem; color: var(--steel-gray);">admin@lexfiat.com</td>
                                            <td style="padding: 1rem; color: var(--white);">David Towne</td>
                                            <td style="padding: 1rem;">
                                                <span style="padding: 0.25rem 0.75rem; background: rgba(16, 185, 129, 0.2); border: 1px solid var(--cyber-green); color: var(--cyber-green); font-size: 0.75rem; border-radius: 0;">ACTIVE</span>
                                            </td>
                                            <td style="padding: 1rem; color: var(--steel-gray); font-family: monospace;">2025-01-09 08:30</td>
                                            <td style="padding: 1rem;">
                                                <button style="padding: 0.5rem; background: rgba(168, 85, 247, 0.2); border: 1px solid var(--electric-purple); border-radius: 0; color: white; cursor: pointer; margin-right: 0.5rem;">Edit</button>
                                                <button style="padding: 0.5rem; background: rgba(245, 158, 11, 0.2); border: 1px solid var(--neon-orange); border-radius: 0; color: white; cursor: pointer; margin-right: 0.5rem;">Reset PW</button>
                                            </td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid var(--panel-border);">
                                            <td style="padding: 1rem; color: var(--white);">mmiller</td>
                                            <td style="padding: 1rem; color: var(--steel-gray);">mekel@lawfirm.com</td>
                                            <td style="padding: 1rem; color: var(--white);">Mekel S. Miller</td>
                                            <td style="padding: 1rem;">
                                                <span style="padding: 0.25rem 0.75rem; background: rgba(16, 185, 129, 0.2); border: 1px solid var(--cyber-green); color: var(--cyber-green); font-size: 0.75rem; border-radius: 0;">ACTIVE</span>
                                            </td>
                                            <td style="padding: 1rem; color: var(--steel-gray); font-family: monospace;">2025-01-09 14:22</td>
                                            <td style="padding: 1rem;">
                                                <button style="padding: 0.5rem; background: rgba(168, 85, 247, 0.2); border: 1px solid var(--electric-purple); border-radius: 0; color: white; cursor: pointer; margin-right: 0.5rem;">Edit</button>
                                                <button style="padding: 0.5rem; background: rgba(245, 158, 11, 0.2); border: 1px solid var(--neon-orange); border-radius: 0; color: white; cursor: pointer; margin-right: 0.5rem;">Reset PW</button>
                                                <button style="padding: 0.5rem; background: rgba(239, 68, 68, 0.2); border: 1px solid #ef4444; border-radius: 0; color: white; cursor: pointer;">Delete</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <!-- Authorized Emails Section -->
                            <div style="margin-top: 2rem;">
                                <h3 style="margin-bottom: 1rem;">Authorized Email Domains</h3>
                                <div style="background: rgba(0,0,0,0.3); padding: 1.5rem; border-radius: 0; border-left: 3px solid var(--cyber-green);">
                                    <ul style="list-style: none; padding: 0; display: grid; gap: 0.5rem;">
                                        <li style="display: flex; align-items: center; gap: 0.5rem;">
                                            <span style="width: 8px; height: 8px; background: var(--cyber-green); border-radius: 50%;"></span>
                                            <span>@lexfiat.com</span>
                                        </li>
                                        <li style="display: flex; align-items: center; gap: 0.5rem;">
                                            <span style="width: 8px; height: 8px; background: var(--cyber-green); border-radius: 50%;"></span>
                                            <span>@lawfirm.com</span>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <!-- System Info -->
                            <div style="margin-top: 2rem; display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                <div style="background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 0; border-left: 3px solid var(--glass-blue);">
                                    <div style="font-size: 0.85rem; color: var(--steel-gray); margin-bottom: 0.5rem;">Total Users</div>
                                    <div style="font-size: 2rem; font-weight: 600; font-family: monospace;">2</div>
                                </div>
                                <div style="background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 0; border-left: 3px solid var(--cyber-green);">
                                    <div style="font-size: 0.85rem; color: var(--steel-gray); margin-bottom: 0.5rem;">Active Sessions</div>
                                    <div style="font-size: 2rem; font-weight: 600; font-family: monospace;">2</div>
                                </div>
                            </div>

                            <!-- Admin Notes -->
                            <div style="margin-top: 2rem; padding: 1rem; background: rgba(245, 158, 11, 0.1); border: 1px solid var(--neon-orange); border-radius: 0;">
                                <strong style="color: var(--neon-orange);">‚ö†Ô∏è Admin Notes:</strong>
                                <ul style="margin-top: 0.5rem; padding-left: 1.5rem; color: var(--steel-gray);">
                                    <li>Admin users (davidtowne) cannot be deleted</li>
                                    <li>Password reset emails will be sent to user's registered email</li>
                                    <li>New users must use authorized email domains</li>
                                    <li>All admin actions are logged for security audit</li>
                                </ul>
                            </div>
                        </div>
                    `;
                    break;
                case 'settings':
                    panelContent = `
                        <h2>Settings</h2>
                        <p style="margin-top: 1rem; color: var(--steel-gray);">Application preferences and configuration...</p>
                    `;
                    break;
                case 'goodcounsel':
                    panelContent = `
                        <h2 style="color: #FFD700; text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);">üí° GoodCounsel - Your Wellness & Growth Sanctuary</h2>
                        <p style="margin-top: 1rem; color: var(--steel-gray); font-style: italic;">Supporting your practice, your relationships, and your wellbeing</p>
                        
                        <div style="margin-top: 2rem; display: grid; gap: 2rem;">
                            <!-- Client Relationship Insight -->
                            <div style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.25) 0%, rgba(16, 185, 129, 0.15) 100%); padding: 2rem; border-left: 4px solid #FFD700; border-radius: 0; box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);">
                                <div style="display: flex; align-items: start; gap: 1rem; margin-bottom: 1rem;">
                                    <div style="font-size: 2rem; filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.5));">üí°</div>
                                    <div style="flex: 1;">
                                        <h3 style="color: #FFD700; margin-bottom: 0.5rem; text-shadow: 0 0 8px rgba(255, 215, 0, 0.4);">Client Check-in: James Hartley</h3>
                                        <div style="color: var(--steel-gray); font-size: 0.85rem; margin-bottom: 1rem;">Probate Matter ‚Ä¢ Hartley Estate</div>
                                    </div>
                                </div>
                                
                                <div style="background: rgba(0,0,0,0.4); padding: 1.5rem; border-radius: 0; margin-bottom: 1.5rem; border: 1px solid rgba(255, 215, 0, 0.2);">
                                    <p style="line-height: 1.6; margin-bottom: 1rem;">
                                        You haven't spoken to <strong style="color: #FFD700;">James Hartley</strong> in <strong style="color: #FFD700;">18 days</strong>, and there's a probate hearing coming up for his brother's estate on <strong style="color: var(--cyber-green);">December 14th</strong>.
                                    </p>
                                    <p style="line-height: 1.6; margin-bottom: 1rem; color: var(--chrome);">
                                        Based on your past interactions, James tends to get anxious before hearings. In your last three hearings with him, he sent multiple worried emails and phone calls in the 48 hours leading up to court dates.
                                    </p>
                                    <p style="line-height: 1.6; color: var(--cyber-green);">
                                        <strong>üí° Proactive Suggestion:</strong> If you make a quick <strong>5-minute phone call</strong> to him this afternoon to review the hearing details and reassure him about the process, it may head off a wave of panicked emails and phone calls over the weekend.
                                    </p>
                                </div>

                                <div style="display: flex; gap: 1rem;">
                                    <button style="flex: 1; padding: 1rem; background: var(--cyber-green); border: 1px solid var(--cyber-green); border-radius: 0; color: white; cursor: pointer; font-weight: 600;">
                                        üí° Schedule Call for This Afternoon
                                    </button>
                                    <button style="flex: 1; padding: 1rem; background: rgba(255, 215, 0, 0.3); border: 1px solid #FFD700; border-radius: 0; color: white; cursor: pointer;">
                                        üí° Send Reassurance Email Instead
                                    </button>
                                    <button style="padding: 1rem; background: rgba(0,0,0,0.3); border: 1px solid var(--panel-border); border-radius: 0; color: var(--steel-gray); cursor: pointer;">
                                        Dismiss
                                    </button>
                                </div>
                            </div>

                            <!-- Wellness Break Reminder -->
                            <div style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.25) 0%, rgba(16, 185, 129, 0.15) 100%); padding: 2rem; border-left: 4px solid #FFD700; border-radius: 0; box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);">
                                <div style="display: flex; align-items: start; gap: 1rem; margin-bottom: 1rem;">
                                    <div style="font-size: 2rem; filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.5));">üí°</div>
                                    <div style="flex: 1;">
                                        <h3 style="color: #FFD700; margin-bottom: 0.5rem; text-shadow: 0 0 8px rgba(255, 215, 0, 0.4);">Wellness Check: Time for a Break</h3>
                                        <div style="color: var(--steel-gray); font-size: 0.85rem; margin-bottom: 1rem;">You've been in deep focus for 2.5 hours</div>
                                    </div>
                                </div>
                                
                                <div style="background: rgba(0,0,0,0.4); padding: 1.5rem; border-radius: 0; margin-bottom: 1.5rem; border: 1px solid rgba(255, 215, 0, 0.2);">
                                    <p style="line-height: 1.6; margin-bottom: 1rem;">
                                        You've been working intensely on the Johnson TRO response since 11:45 AM without a break. Research shows that cognitive performance and decision-making quality decline significantly after 90-120 minutes of sustained focus.
                                    </p>
                                    <p style="line-height: 1.6; color: var(--cyber-green);">
                                        <strong>üí° Wellness Recommendation:</strong> Take <strong>10 minutes</strong> to step outside for fresh air and sunlight. A brief walk will help restore your mental clarity and may actually help you spot issues in the TRO response you might otherwise miss.
                                    </p>
                                </div>

                                <div style="display: flex; gap: 1rem;">
                                    <button style="flex: 1; padding: 1rem; background: var(--cyber-green); border: 1px solid var(--cyber-green); border-radius: 0; color: white; cursor: pointer; font-weight: 600;">
                                        üí° I'll Take a 10-Minute Break Now
                                    </button>
                                    <button style="padding: 1rem; background: rgba(0,0,0,0.3); border: 1px solid var(--panel-border); border-radius: 0; color: var(--steel-gray); cursor: pointer;">
                                        üí° Remind Me in 30 Minutes
                                    </button>
                                </div>
                            </div>

                            <!-- Professional Development Opportunity -->
                            <div style="background: linear-gradient(135deg, rgba(255, 215, 0, 0.25) 0%, rgba(168, 85, 247, 0.15) 100%); padding: 2rem; border-left: 4px solid #FFD700; border-radius: 0; box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);">
                                <div style="display: flex; align-items: start; gap: 1rem; margin-bottom: 1rem;">
                                    <div style="font-size: 2rem; filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.5));">üí°</div>
                                    <div style="flex: 1;">
                                        <h3 style="color: #FFD700; margin-bottom: 0.5rem; text-shadow: 0 0 8px rgba(255, 215, 0, 0.4);">Growth Opportunity: CLE Course</h3>
                                        <div style="color: var(--steel-gray); font-size: 0.85rem; margin-bottom: 1rem;">Professional Development</div>
                                    </div>
                                </div>
                                
                                <div style="background: rgba(0,0,0,0.4); padding: 1.5rem; border-radius: 0; margin-bottom: 1.5rem; border: 1px solid rgba(255, 215, 0, 0.2);">
                                    <p style="line-height: 1.6; margin-bottom: 1rem;">
                                        ICLE is offering a CLE on <strong style="color: #FFD700;">"Emergency Family Court Procedures"</strong> on December 17th. Given your recent increase in TRO and emergency custody matters (4 in the past 2 months vs. your usual 1-2), this could be valuable continuing education.
                                    </p>
                                    <p style="line-height: 1.6; color: #FFD700;">
                                        <strong>üí° Growth Note:</strong> You mentioned wanting to handle more high-stakes family law matters. This CLE would strengthen your expertise in this exact area while fulfilling your annual CLE requirements.
                                    </p>
                                </div>

                                <div style="display: flex; gap: 1rem;">
                                    <button style="flex: 1; padding: 1rem; background: rgba(255, 215, 0, 0.3); border: 1px solid #FFD700; border-radius: 0; color: white; cursor: pointer; font-weight: 600;">
                                        üí° Register for CLE Course
                                    </button>
                                    <button style="padding: 1rem; background: rgba(0,0,0,0.3); border: 1px solid var(--panel-border); border-radius: 0; color: var(--steel-gray); cursor: pointer;">
                                        Maybe Later
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- GoodCounsel Footer -->
                        <div style="margin-top: 3rem; padding: 1.5rem; background: rgba(255, 215, 0, 0.15); border: 1px solid rgba(255, 215, 0, 0.4); border-radius: 0; text-align: center; box-shadow: 0 0 15px rgba(255, 215, 0, 0.2);">
                            <p style="color: var(--chrome); font-style: italic;">
                                "Taking care of your clients starts with taking care of yourself. Building a sustainable practice means building sustainable habits."
                            </p>
                        </div>
                    `;
                    break;
                case 'profile':
                    panelContent = `
                        <h2>Attorney Profile</h2>
                        <div style="margin-top: 2rem;">
                            <div style="text-align: center; margin-bottom: 2rem;">
                                <div style="width: 150px; height: 150px; border-radius: 50%; border: 3px solid var(--gold); margin: 0 auto; overflow: hidden;">
                                    <img src="attached_assets/IMG_0104_1754179760418.JPG" style="width: 100%; height: 100%; object-fit: cover;">
                                </div>
                                <button style="margin-top: 1rem; padding: 0.75rem 1.5rem; background: var(--accent-glow); border: 1px solid var(--glass-blue); border-radius: 0; color: white; cursor: pointer;">Upload New Photo</button>
                            </div>
                            <div style="display: grid; gap: 1rem;">
                                <div><label>Name:</label><br><input type="text" value="Mekel S. Miller" style="width: 100%; padding: 0.75rem; background: rgba(0,0,0,0.3); border: 1px solid var(--panel-border); color: white; margin-top: 0.5rem;"></div>
                                <div><label>Specialization:</label><br><input type="text" value="Family Law" style="width: 100%; padding: 0.75rem; background: rgba(0,0,0,0.3); border: 1px solid var(--panel-border); color: white; margin-top: 0.5rem;"></div>
                            </div>
                        </div>
                    `;
                    break;
                default:
                    panelContent = `
                        <h2>${panelType.charAt(0).toUpperCase() + panelType.slice(1)} - Full View</h2>
                        <p style="margin-top: 1rem; color: var(--steel-gray);">This is the expanded panel for ${panelType}.</p>
                        <p style="margin-top: 1rem;">Full functionality and detailed information would be displayed here...</p>
                    `;
            }
            
            content.innerHTML = panelContent;
            overlay.classList.add('active');
        }

        function closePanel() {
            document.getElementById('panel-overlay').classList.remove('active');
        }

        // Close on overlay click
        document.getElementById('panel-overlay').addEventListener('click', (e) => {
            if (e.target.id === 'panel-overlay') {
                closePanel();
            }
        });

        // ESC key to close
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closePanel();
            }
        });
    </script>
</body>
</html>

