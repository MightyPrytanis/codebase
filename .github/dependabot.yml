# Dependabot configuration for Cyrano ecosystem
# Scans only active development directories
# Uses exclude-paths to prevent scanning /Legacy/ and /archive/ directories
#
# Active directories (scanned for dependency updates):
#   - /Cyrano (MCP server and core modules)
#   - /Cyrano/auth-server (authentication service)
#   - /apps/lexfiat (LexFiat application)
#   - /apps/arkiver (Arkiver application wrapper)
#   - /apps/arkiver/frontend (Arkiver frontend)
#   - /Labs/Potemkin/app (Potemkin experimental app)
#   - /Labs/Potemkin/moral_reasoner (Potemkin moral reasoner)
#
# Excluded paths (NOT scanned, frozen):
#   - Legacy/** (all archived legacy code)
#   - archive/** (all archive directories)
#
# Note: The exclude-paths configuration prevents Dependabot from creating
# PRs for dependencies in legacy/archived code that should remain frozen.
#
version: 2
updates:
  # Cyrano main package
  - package-ecosystem: "npm"
    directory: "/Cyrano"
    schedule:
      interval: "weekly"
      day: "monday"
    open-pull-requests-limit: 10
    exclude-paths:
      - "Legacy/**"
      - "archive/**"
    labels:
      - "dependencies"
      - "cyrano"

  # Cyrano auth-server
  - package-ecosystem: "npm"
    directory: "/Cyrano/auth-server"
    schedule:
      interval: "weekly"
      day: "monday"
    open-pull-requests-limit: 10
    exclude-paths:
      - "Legacy/**"
      - "archive/**"
    labels:
      - "dependencies"
      - "cyrano"
      - "auth-server"

  # LexFiat app
  - package-ecosystem: "npm"
    directory: "/apps/lexfiat"
    schedule:
      interval: "weekly"
      day: "monday"
    open-pull-requests-limit: 10
    exclude-paths:
      - "Legacy/**"
      - "archive/**"
    labels:
      - "dependencies"
      - "lexfiat"

  # Arkiver app
  - package-ecosystem: "npm"
    directory: "/apps/arkiver"
    schedule:
      interval: "weekly"
      day: "monday"
    open-pull-requests-limit: 10
    exclude-paths:
      - "Legacy/**"
      - "archive/**"
    labels:
      - "dependencies"
      - "arkiver"

  # Arkiver frontend
  - package-ecosystem: "npm"
    directory: "/apps/arkiver/frontend"
    schedule:
      interval: "weekly"
      day: "monday"
    open-pull-requests-limit: 10
    exclude-paths:
      - "Legacy/**"
      - "archive/**"
    labels:
      - "dependencies"
      - "arkiver"

  # Labs - Potemkin app
  - package-ecosystem: "npm"
    directory: "/Labs/Potemkin/app"
    schedule:
      interval: "weekly"
      day: "monday"
    open-pull-requests-limit: 5
    exclude-paths:
      - "Legacy/**"
      - "archive/**"
    labels:
      - "dependencies"
      - "labs"
      - "potemkin"

  # Labs - Potemkin moral_reasoner
  - package-ecosystem: "npm"
    directory: "/Labs/Potemkin/moral_reasoner"
    schedule:
      interval: "weekly"
      day: "monday"
    open-pull-requests-limit: 5
    exclude-paths:
      - "Legacy/**"
      - "archive/**"
    labels:
      - "dependencies"
      - "labs"
      - "potemkin"
